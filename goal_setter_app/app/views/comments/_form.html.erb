<% commentable_type = @goal.nil? ? "User" : "Goal" %>
<% commentable_id = @goal.nil? ? @user.id : @goal.id %>

Comment

<form action="<%=comments_url%>" method="POST">
  <input type="hidden"
    name="authenticity_token"
    value="<%=form_authenticity_token%>">

  <input type="hidden"
    name="comment[commentable_type]"
    value="<%=commentable_type%>" >

  <input type="hidden"
    name="comment[commentable_id]"
    value= <%= commentable_id %> >

  <label>Comment
    <textarea name="comment[body]"></textarea>
  </label>
  <input type="submit" value="Add Comment!">
</form>
